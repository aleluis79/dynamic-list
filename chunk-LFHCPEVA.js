import{a as he,b as _e}from"./chunk-RQ6XLPMP.js";import{$ as de,I as ne,J as oe,K as ae,L as re,X as le,Y as se,_ as ce,ba as me,ca as ue,da as pe,i as G,j as K,ja as fe,k as Y,m as z,n as Q,o as X,p as ee,q as te,r as ie}from"./chunk-UQYWEKRD.js";import{$ as j,$b as k,Cb as w,Da as L,Db as E,Dc as W,Eb as r,Fb as l,Gb as y,Gc as $,Hb as v,Hc as Z,Kb as d,Mb as m,Vb as s,Wa as c,Wb as g,Xa as C,Zb as V,_ as P,_b as M,a as D,ba as I,bc as H,d as O,da as N,db as R,dc as J,fc as S,gc as T,ia as A,ja as B,ka as q,pb as b,ra as h,sa as _,tb as f,zb as x,zc as U}from"./chunk-L6CPDOQ7.js";var F=class{constructor(n,a){this._document=a;let e=this._textarea=this._document.createElement("textarea"),t=e.style;t.position="fixed",t.top=t.opacity="0",t.left="-999em",e.setAttribute("aria-hidden","true"),e.value=n,e.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(e)}copy(){let n=this._textarea,a=!1;try{if(n){let e=this._document.activeElement;n.select(),n.setSelectionRange(0,n.value.length),a=this._document.execCommand("copy"),e&&e.focus()}}catch{}return a}destroy(){let n=this._textarea;n&&(n.remove(),this._textarea=void 0)}},xe=(()=>{let n=class n{constructor(e){this._document=e}copy(e){let t=this.beginCopy(e),i=t.copy();return t.destroy(),i}beginCopy(e){return new F(e,this._document)}};n.\u0275fac=function(t){return new(t||n)(N(U))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"});let o=n;return o})(),ye=new I("CDK_COPY_TO_CLIPBOARD_CONFIG"),ve=(()=>{let n=class n{constructor(e,t,i){this._clipboard=e,this._ngZone=t,this.text="",this.attempts=1,this.copied=new L,this._pending=new Set,i&&i.attempts!=null&&(this.attempts=i.attempts)}copy(e=this.attempts){if(e>1){let t=e,i=this._clipboard.beginCopy(this.text);this._pending.add(i);let u=()=>{let p=i.copy();!p&&--t&&!this._destroyed?this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(u,1)):(this._currentTimeout=null,this._pending.delete(i),i.destroy(),this.copied.emit(p))};u()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(e=>e.destroy()),this._pending.clear(),this._destroyed=!0}};n.\u0275fac=function(t){return new(t||n)(C(xe),C(R),C(ye,8))},n.\u0275dir=q({type:n,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(t,i){t&1&&d("click",function(){return i.copy()})},inputs:{text:[0,"cdkCopyToClipboard","text"],attempts:[0,"cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"},standalone:!0});let o=n;return o})(),Ce=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=B({type:n}),n.\u0275inj=j({});let o=n;return o})();var we=(o,n)=>n.value,Ee=(o,n)=>n.name,Ve=o=>({json:o});function Me(o,n){if(o&1&&(r(0,"mat-option",4),s(1),l()),o&2){let a=n.$implicit;f("value",a.value),c(),g(a.viewValue)}}function ke(o,n){if(o&1){let a=v();r(0,"app-dynamic-form",14),d("submitForm",function(t){h(a);let i=m();return _(i.process(t))}),l()}if(o&2){let a=m();f("formStructure",a.formStructure)("initialData",a.initialData)}}function Se(o,n){if(o&1){let a=v();r(0,"tr")(1,"td",15),s(2),l(),r(3,"td")(4,"button",16),d("click",function(){let t=h(a).$implicit,i=m();return _(i.edit(t))}),r(5,"mat-icon"),s(6,"edit"),l()(),s(7,"\xA0 "),r(8,"button",16),d("click",function(){let t=h(a).$index,i=m();return _(i.subir(t))}),r(9,"mat-icon"),s(10,"arrow_upward"),l()(),s(11,"\xA0 "),r(12,"button",16),d("click",function(){let t=h(a).$index,i=m();return _(i.bajar(t))}),r(13,"mat-icon"),s(14,"arrow_downward"),l()(),s(15,"\xA0 "),r(16,"button",16),d("click",function(){let t=h(a).$implicit,i=m();return _(i.borrar(t))}),r(17,"mat-icon"),s(18,"delete"),l()()()()}if(o&2){let a=n.$implicit;c(2),g(a.label)}}function Te(o,n){if(o&1&&y(0,"app-dynamic-form",12),o&2){let a=m();f("editable",a.editable)("formStructure",a.formPreview)("appearance","outline")}}function Fe(o,n){if(o&1){let a=v();r(0,"div")(1,"textarea",17),k("ngModelChange",function(t){h(a);let i=m(2);return M(i.dataValue,t)||(i.dataValue=t),_(t)}),l()()}if(o&2){let a=m(2);c(),V("ngModel",a.dataValue)}}function De(o,n){if(o&1&&(r(0,"pre"),s(1),S(2,"json"),l()),o&2){let a=m(2);c(),g(T(2,1,a.data))}}function Oe(o,n){if(o&1){let a=v();b(0,Fe,2,1,"div")(1,De,3,3,"pre"),r(2,"button",9),d("click",function(){h(a);let t=m();return _(t.jsonEdit=!t.jsonEdit)}),s(3,"Edit/View"),l()}if(o&2){let a=m();x(a.jsonEdit?0:1)}}var rt=(()=>{let n=class n{constructor(){this.typeControl=new z("",[K.required]),this.initialData=[],this.editting="",this.data=[],this.preview=!0,this.jsonEdit=!1,this.editable=!0,this.options=[{value:"text",viewValue:"Texto"},{value:"number",viewValue:"Nu\u0301mero"},{value:"email",viewValue:"Email"},{value:"password",viewValue:"Contrase\xF1a"},{value:"textarea",viewValue:"Texto multirengl\xF3n"},{value:"select",viewValue:"Selecci\xF3n"},{value:"radio",viewValue:"Radio button"},{value:"date",viewValue:"Fecha"},{value:"datetime",viewValue:"Fecha y hora"},{value:"daterange",viewValue:"Fecha rango"},{value:"datetimerange",viewValue:"Fecha y hora rango"},{value:"checkbox",viewValue:"Checkbox"}],this.formPreview=[],this.formOptions={type:"list",label:"Opciones",value:"",withCheck:!0,name:"options",form:[{type:"text",label:"Etiqueta",name:"label",value:""},{type:"text",label:"Valor",name:"value",value:""}]},this.formValidations={type:"list",label:"Validaciones",value:"",withCheck:!0,name:"validations",form:[{type:"select",label:"Validator",name:"validator",value:"",options:[{label:"Requerido",value:"required"},{label:"Email",value:"email"},{label:"Patr\xF3n",value:"pattern"},{label:"Longitud m\xEDnima",value:"minlength"},{label:"Longitud m\xE1xima",value:"maxlength"},{label:"M\xEDnimo",value:"min"},{label:"M\xE1ximo",value:"max"},{label:"Checkeado",value:"requiredTrue"},{label:"Validador nulo",value:"nullValidator"},{label:"Seleccionado",value:"selected"},{label:"CUIT",value:"cuit"},{label:"CBU",value:"cbu"},{label:"CVU",value:"cvu"}]},{type:"text",label:"Valor (opcional)",name:"value",value:""},{type:"text",label:"Mensaje error",name:"message",value:""}]},this.formText=[{type:"text",label:"Nombre a mostrar",name:"label",value:""},{type:"text",label:"Nombre del componente",name:"name",value:""},{type:"text",label:"Valor inicial",name:"value",value:""},{type:"text",label:"M\xE1scara",name:"mask",value:""},this.formValidations],this.formSelect=[{type:"text",label:"Nombre a mostrar",name:"label",value:""},{type:"text",label:"Nombre del componente",name:"name",value:""},{type:"text",label:"Valor inicial",name:"value",value:""},this.formOptions,this.formValidations]}get dataValue(){return JSON.stringify(this.data,null,2)}set dataValue(e){try{this.data=JSON.parse(e)}catch{console.log("error occored while you were typing the JSON")}}borrar(e){this.data=this.data.filter(t=>t.name!==e.name),this.formPreview=structuredClone(this.data)}edit(e){this.editting=e.name,this.typeControl.setValue(e.type),this.initialData=structuredClone(e)}onChange(e){switch(e.value){case"text":case"number":case"email":case"password":case"textarea":case"date":case"datetime":case"daterange":case"datetimerange":case"checkbox":this.formStructure=structuredClone(this.formText);break;case"select":case"radio":this.formStructure=structuredClone(this.formSelect);break;default:break}}refresh(){this.formPreview=structuredClone(this.data)}process(e){return O(this,null,function*(){if(e)if(this.editting)this.data=yield this.data.map(t=>(t.name===this.editting&&(t=D({type:this.typeControl.value},e)),t)),this.formPreview=structuredClone(this.data),this.editting="",this.initialData=[],this.typeControl.setValue("text"),this.formStructure=structuredClone(this.formText);else{let t=!1;if(this.data.forEach(i=>{i.name===e.name&&(t=!0)}),!t&&e.name!==""){let i={type:this.typeControl.value,label:e.label,name:e.name,value:e.value};e.mask&&(i.mask=e.mask),e.validations&&(i.validations=e.validations),e.options&&(i.options=e.options),this.data.push(i),this.formPreview=structuredClone(this.data),this.initialData=[]}}})}limpiar(){this.data=[],this.formPreview=structuredClone(this.data)}subir(e){this.data=this.moveUp(this.data,e),this.formPreview=structuredClone(this.data)}bajar(e){this.data=this.moveDown(this.data,e),this.formPreview=structuredClone(this.data)}moveUp(e,t){if(t<=0||t>=e.length)return e;let i=e.slice(),u=i[t];return i[t]=i[t-1],i[t-1]=u,i}moveDown(e,t){if(t<0||t>=e.length-1)return e;let i=e.slice(),u=i[t];return i[t]=i[t+1],i[t+1]=u,i}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=A({type:n,selectors:[["app-editor"]],standalone:!0,features:[H],decls:33,vars:11,consts:[[1,"container"],[1,"editor"],[3,"selectionChange","formControl","required"],["value",""],[3,"value"],["urlApi","http://localhost:5000/Home",3,"formStructure","initialData"],[1,"lista"],["mat-mini-fab","",2,"box-shadow","none",3,"click"],[1,"preview",3,"ngClass"],["mat-button","","type","button",3,"click"],["mat-button","","type","button",3,"cdkCopyToClipboard"],[3,"ngModelChange","ngModel"],["urlApi","http://localhost:5000/Home",3,"editable","formStructure","appearance"],["mat-button","","type","button"],["urlApi","http://localhost:5000/Home",3,"submitForm","formStructure","initialData"],[2,"width","400px"],["mat-mini-fab","","type","button",2,"box-shadow","none",3,"click"],["rows","30","name","","id","",2,"min-width","100%",3,"ngModelChange","ngModel"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"section",1)(2,"mat-form-field")(3,"mat-label"),s(4,"Tipo"),l(),r(5,"mat-select",2),d("selectionChange",function(p){return i.onChange(p)}),r(6,"mat-option",3),s(7,"Seleccione"),l(),w(8,Me,2,2,"mat-option",4,we),l()(),y(10,"br"),b(11,ke,1,2,"app-dynamic-form",5),l(),r(12,"section",6)(13,"button",7),d("click",function(){return i.limpiar()}),r(14,"mat-icon"),s(15,"delete"),l()(),s(16,"\xA0 "),r(17,"button",7),d("click",function(){return i.refresh()}),r(18,"mat-icon"),s(19,"refresh"),l()(),y(20,"br"),w(21,Se,19,1,"tr",null,Ee),l(),r(23,"section",8)(24,"button",9),d("click",function(){return i.preview=!i.preview}),s(25,"Preview/Json"),l(),r(26,"button",10),S(27,"json"),s(28,"Copy to clipboard"),l(),r(29,"mat-checkbox",11),k("ngModelChange",function(p){return M(i.editable,p)||(i.editable=p),p}),s(30,"Editable"),l(),b(31,Te,1,3,"app-dynamic-form",12)(32,Oe,4,1,"button",13),l()()),t&2&&(c(5),f("formControl",i.typeControl)("required",!0),c(3),E(i.options),c(3),x(i.formStructure?11:-1),c(10),E(i.data),c(2),f("ngClass",J(9,Ve,!i.preview)),c(3),f("cdkCopyToClipboard",T(27,7,i.data)),c(3),V("ngModel",i.editable),c(2),x(i.preview?31:32))},dependencies:[Z,W,$,Ce,ve,re,ae,oe,se,le,ne,me,ce,de,_e,he,pe,ue,ie,G,Y,ee,X,fe,te,Q],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.json[_ngcontent-%COMP%], .editor[_ngcontent-%COMP%]{padding:20px;min-width:600px;border:solid 1px silver}.lista[_ngcontent-%COMP%]{padding:20px;min-width:600px;border-top:solid 1px silver;border-bottom:solid 1px silver}.preview[_ngcontent-%COMP%]{padding:20px;border:solid 1px silver;min-width:600px}"]});let o=n;return o})();export{rt as default};
