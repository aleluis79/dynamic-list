import{a as me,b as ue}from"./chunk-IKAA3IST.js";import{$ as ce,I as ne,J as oe,K as ae,L as re,X as le,Y as se,ba as de,i as G,ia as pe,j as K,k as Y,m as z,n as Q,o as X,p as ee,q as te,r as ie}from"./chunk-YOBWK5LW.js";import{$ as D,Bc as U,Cb as g,Da as A,Db as E,Eb as r,Ec as W,Fb as l,Fc as Z,Gb as y,Hb as f,Kb as d,Mb as m,Vb as s,Wa as c,Wb as w,Xa as C,Yb as q,Zb as $,_ as F,_b as R,a as T,ac as H,ba as O,cc as J,d as M,da as P,db as B,dc as V,ec as S,ia as j,ja as I,ka as N,pb as x,ra as p,sa as h,tb as _,xc as L,zb as b}from"./chunk-SGE3W2J4.js";var k=class{constructor(n,a){this._document=a;let e=this._textarea=this._document.createElement("textarea"),t=e.style;t.position="fixed",t.top=t.opacity="0",t.left="-999em",e.setAttribute("aria-hidden","true"),e.value=n,e.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(e)}copy(){let n=this._textarea,a=!1;try{if(n){let e=this._document.activeElement;n.select(),n.setSelectionRange(0,n.value.length),a=this._document.execCommand("copy"),e&&e.focus()}}catch{}return a}destroy(){let n=this._textarea;n&&(n.remove(),this._textarea=void 0)}},ve=(()=>{let n=class n{constructor(e){this._document=e}copy(e){let t=this.beginCopy(e),i=t.copy();return t.destroy(),i}beginCopy(e){return new k(e,this._document)}};n.\u0275fac=function(t){return new(t||n)(P(L))},n.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"});let o=n;return o})(),Ce=new O("CDK_COPY_TO_CLIPBOARD_CONFIG"),he=(()=>{let n=class n{constructor(e,t,i){this._clipboard=e,this._ngZone=t,this.text="",this.attempts=1,this.copied=new A,this._pending=new Set,i&&i.attempts!=null&&(this.attempts=i.attempts)}copy(e=this.attempts){if(e>1){let t=e,i=this._clipboard.beginCopy(this.text);this._pending.add(i);let u=()=>{let v=i.copy();!v&&--t&&!this._destroyed?this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(u,1)):(this._currentTimeout=null,this._pending.delete(i),i.destroy(),this.copied.emit(v))};u()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(e=>e.destroy()),this._pending.clear(),this._destroyed=!0}};n.\u0275fac=function(t){return new(t||n)(C(ve),C(B),C(Ce,8))},n.\u0275dir=N({type:n,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(t,i){t&1&&d("click",function(){return i.copy()})},inputs:{text:[0,"cdkCopyToClipboard","text"],attempts:[0,"cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"},standalone:!0});let o=n;return o})(),_e=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=I({type:n}),n.\u0275inj=D({});let o=n;return o})();var be=(o,n)=>n.value,ye=(o,n)=>n.name,we=o=>({json:o});function ge(o,n){if(o&1&&(r(0,"mat-option",4),s(1),l()),o&2){let a=n.$implicit;_("value",a.value),c(),w(a.viewValue)}}function Ee(o,n){if(o&1){let a=f();r(0,"app-dynamic-form",12),d("submitForm",function(t){p(a);let i=m();return h(i.process(t))}),l()}if(o&2){let a=m();_("formStructure",a.formStructure)("initialData",a.initialData)}}function Ve(o,n){if(o&1){let a=f();r(0,"tr")(1,"td",13),s(2),l(),r(3,"td")(4,"button",14),d("click",function(){let t=p(a).$implicit,i=m();return h(i.edit(t))}),r(5,"mat-icon"),s(6,"edit"),l()(),s(7,"\xA0 "),r(8,"button",14),d("click",function(){let t=p(a).$index,i=m();return h(i.subir(t))}),r(9,"mat-icon"),s(10,"arrow_upward"),l()(),s(11,"\xA0 "),r(12,"button",14),d("click",function(){let t=p(a).$index,i=m();return h(i.bajar(t))}),r(13,"mat-icon"),s(14,"arrow_downward"),l()(),s(15,"\xA0 "),r(16,"button",14),d("click",function(){let t=p(a).$implicit,i=m();return h(i.borrar(t))}),r(17,"mat-icon"),s(18,"delete"),l()()()()}if(o&2){let a=n.$implicit;c(2),w(a.label)}}function Se(o,n){if(o&1&&y(0,"app-dynamic-form",11),o&2){let a=m();_("formStructure",a.formPreview)}}function ke(o,n){if(o&1){let a=f();r(0,"div")(1,"textarea",15),R("ngModelChange",function(t){p(a);let i=m(2);return $(i.dataValue,t)||(i.dataValue=t),h(t)}),l()()}if(o&2){let a=m(2);c(),q("ngModel",a.dataValue)}}function Te(o,n){if(o&1&&(r(0,"pre"),s(1),V(2,"json"),l()),o&2){let a=m(2);c(),w(S(2,1,a.data))}}function Me(o,n){if(o&1){let a=f();r(0,"button",9),d("click",function(){p(a);let t=m();return h(t.jsonEdit=!t.jsonEdit)}),s(1,"Edit/View"),l(),x(2,ke,2,1,"div")(3,Te,3,3,"pre")}if(o&2){let a=m();c(2),b(a.jsonEdit?2:3)}}var tt=(()=>{let n=class n{constructor(){this.typeControl=new z("",[K.required]),this.initialData=[],this.editting="",this.data=[],this.preview=!0,this.jsonEdit=!1,this.options=[{value:"text",viewValue:"Texto"},{value:"number",viewValue:"Nu\u0301mero"},{value:"email",viewValue:"Email"},{value:"password",viewValue:"Contrase\xF1a"},{value:"textarea",viewValue:"Texto multirengl\xF3n"},{value:"select",viewValue:"Selecci\xF3n"},{value:"radio",viewValue:"Radio button"},{value:"date",viewValue:"Fecha"},{value:"datetime",viewValue:"Fecha y hora"},{value:"daterange",viewValue:"Fecha rango"},{value:"datetimerange",viewValue:"Fecha y hora rango"},{value:"checkbox",viewValue:"Checkbox"}],this.formPreview=[],this.formOptions={type:"list",label:"Opciones",value:"",withCheck:!0,name:"options",form:[{type:"text",label:"Etiqueta",name:"label",value:""},{type:"text",label:"Valor",name:"value",value:""}]},this.formValidations={type:"list",label:"Validaciones",value:"",withCheck:!0,name:"validations",form:[{type:"select",label:"Validator",name:"validator",value:"",options:[{label:"Requerido",value:"required"},{label:"Email",value:"email"},{label:"Patr\xF3n",value:"pattern"},{label:"Longitud m\xEDnima",value:"minlength"},{label:"Longitud m\xE1xima",value:"maxlength"},{label:"M\xEDnimo",value:"min"},{label:"M\xE1ximo",value:"max"},{label:"Checkeado",value:"requiredTrue"},{label:"Validador nulo",value:"nullValidator"},{label:"Seleccionado",value:"selected"},{label:"CUIT",value:"cuit"},{label:"CBU",value:"cbu"},{label:"CVU",value:"cvu"}]},{type:"text",label:"Valor (opcional)",name:"value",value:""},{type:"text",label:"Mensaje error",name:"message",value:""}]},this.formText=[{type:"text",label:"Nombre a mostrar",name:"label",value:""},{type:"text",label:"Nombre del componente",name:"name",value:""},{type:"text",label:"Valor inicial",name:"value",value:""},{type:"text",label:"M\xE1scara",name:"mask",value:""},this.formValidations],this.formSelect=[{type:"text",label:"Nombre a mostrar",name:"label",value:""},{type:"text",label:"Nombre del componente",name:"name",value:""},{type:"text",label:"Valor inicial",name:"value",value:""},this.formOptions,this.formValidations]}get dataValue(){return JSON.stringify(this.data,null,2)}set dataValue(e){try{this.data=JSON.parse(e)}catch{console.log("error occored while you were typing the JSON")}}borrar(e){this.data=this.data.filter(t=>t.name!==e.name),this.formPreview=structuredClone(this.data)}edit(e){this.editting=e.name,this.typeControl.setValue(e.type),this.initialData=structuredClone(e)}onChange(e){switch(e.value){case"text":case"number":case"email":case"password":case"textarea":case"date":case"datetime":case"daterange":case"datetimerange":case"checkbox":this.formStructure=structuredClone(this.formText);break;case"select":case"radio":this.formStructure=structuredClone(this.formSelect);break;default:break}}refresh(){this.formPreview=structuredClone(this.data)}process(e){return M(this,null,function*(){if(e)if(this.editting)this.data=yield this.data.map(t=>(t.name===this.editting&&(t=T({type:this.typeControl.value},e)),t)),this.formPreview=structuredClone(this.data),this.editting="",this.initialData=[],this.typeControl.setValue("text"),this.formStructure=structuredClone(this.formText);else{let t=!1;if(this.data.forEach(i=>{i.name===e.name&&(t=!0)}),!t&&e.name!==""){let i={type:this.typeControl.value,label:e.label,name:e.name,value:e.value};e.mask&&(i.mask=e.mask),e.validations&&(i.validations=e.validations),e.options&&(i.options=e.options),this.data.push(i),this.formPreview=structuredClone(this.data),this.initialData=[]}}})}limpiar(){this.data=[],this.formPreview=structuredClone(this.data)}subir(e){this.data=this.moveUp(this.data,e),this.formPreview=structuredClone(this.data)}bajar(e){this.data=this.moveDown(this.data,e),this.formPreview=structuredClone(this.data)}moveUp(e,t){if(t<=0||t>=e.length)return e;let i=e.slice(),u=i[t];return i[t]=i[t-1],i[t-1]=u,i}moveDown(e,t){if(t<0||t>=e.length-1)return e;let i=e.slice(),u=i[t];return i[t]=i[t+1],i[t+1]=u,i}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=j({type:n,selectors:[["app-editor"]],standalone:!0,features:[H],decls:31,vars:10,consts:[[1,"container"],[1,"editor"],[3,"selectionChange","formControl","required"],["value",""],[3,"value"],["urlApi","http://localhost:5000/Home",3,"formStructure","initialData"],[1,"lista"],["mat-mini-fab","",2,"box-shadow","none",3,"click"],[1,"preview",3,"ngClass"],["type","button",3,"click"],["type","button",3,"cdkCopyToClipboard"],["urlApi","http://localhost:5000/Home",3,"formStructure"],["urlApi","http://localhost:5000/Home",3,"submitForm","formStructure","initialData"],[2,"width","400px"],["mat-mini-fab","","type","button",2,"box-shadow","none",3,"click"],["rows","30","name","","id","",2,"min-width","100%",3,"ngModelChange","ngModel"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"section",1)(2,"mat-form-field")(3,"mat-label"),s(4,"Tipo"),l(),r(5,"mat-select",2),d("selectionChange",function(v){return i.onChange(v)}),r(6,"mat-option",3),s(7,"Seleccione"),l(),g(8,ge,2,2,"mat-option",4,be),l()(),y(10,"br"),x(11,Ee,1,2,"app-dynamic-form",5),l(),r(12,"section",6)(13,"button",7),d("click",function(){return i.limpiar()}),r(14,"mat-icon"),s(15,"delete"),l()(),s(16,"\xA0 "),r(17,"button",7),d("click",function(){return i.refresh()}),r(18,"mat-icon"),s(19,"refresh"),l()(),y(20,"br"),g(21,Ve,19,1,"tr",null,ye),l(),r(23,"section",8)(24,"button",9),d("click",function(){return i.preview=!i.preview}),s(25,"Preview/Json"),l(),r(26,"button",10),V(27,"json"),s(28,"Copy to clipboard"),l(),x(29,Se,1,1,"app-dynamic-form",11)(30,Me,4,1),l()()),t&2&&(c(5),_("formControl",i.typeControl)("required",!0),c(3),E(i.options),c(3),b(i.formStructure?11:-1),c(10),E(i.data),c(2),_("ngClass",J(8,we,!i.preview)),c(3),_("cdkCopyToClipboard",S(27,6,i.data)),c(3),b(i.preview?29:30))},dependencies:[Z,U,W,_e,he,re,ae,oe,se,le,ne,de,ce,ue,me,ie,G,Y,ee,X,pe,te,Q],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.json[_ngcontent-%COMP%]{padding:20px;background-color:#333;color:snow;min-width:600px;border:solid 1px silver}.editor[_ngcontent-%COMP%]{padding:20px;min-width:600px;border:solid 1px silver}.lista[_ngcontent-%COMP%]{padding:20px;min-width:600px;border-top:solid 1px silver;border-bottom:solid 1px silver}.preview[_ngcontent-%COMP%]{padding:20px;border:solid 1px silver;min-width:600px}"]});let o=n;return o})();export{tt as default};
